<Project Sdk="Microsoft.NET.Sdk">
	<PropertyGroup>
		<OutputType>Library</OutputType>
		<TargetFramework>net472</TargetFramework>
		<AutoGenerateBindingRedirects>true</AutoGenerateBindingRedirects>
		<RootNamespace>Starforge</RootNamespace>
		<ApplicationIcon>../assets/logo_128.ico</ApplicationIcon>
		<StartupObject />
		<AllowUnsafeBlocks>true</AllowUnsafeBlocks>
		<Platforms>x86</Platforms>
	</PropertyGroup>

	<Choose>
		<When Condition="'$(Configuration)' == 'Debug'">
			<Target Name="PostBuild" AfterTargets="PostBuildEvent">
				<Exec Command="copy $(OutDir)Starforge.Vanilla.dll $(SolutionDir)Starforge\bin\x86\Debug\net472\Starforge.Vanilla.dll" />
			</Target>
		</When>
		<Otherwise>
			<Target Name="PostBuild" AfterTargets="PostBuildEvent">
				<Exec Command="copy $(OutDir)Starforge.Vanilla.dll $(SolutionDir)Starforge\bin\x86\Release\net472\Starforge.Vanilla.dll" />
			</Target>
		</Otherwise>
	</Choose>

	<ItemGroup>
		<Reference Include="FNA" HintPath="..\lib\FNA\bin\Release\FNA.dll" />
		<Reference Include="Starforge" HintPath="..\Starforge\bin\x86\Debug\net472\Starforge.exe" />
		<Reference Include="System" />
	</ItemGroup>
</Project>